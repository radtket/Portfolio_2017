var coverVid = function(e, t, i) {
    function o(e, t) {
        var i = null;
        return function() {
            var o = this, n = arguments;
            window.clearTimeout(i), i = window.setTimeout(function() {
                e.apply(o, n);
            }, t);
        };
    }
    function n() {
        var o = e.parentNode.offsetHeight, n = e.parentNode.offsetWidth, a = t, r = i, s = o / r, l = n / a;
        l > s ? (e.style.height = "auto", e.style.width = n + "px") : (e.style.height = o + "px", 
        e.style.width = "auto");
    }
    document.addEventListener("DOMContentLoaded", n), window.addEventListener("resize", o(n, 50)), 
    e.style.position = "absolute", e.style.top = "50%", e.style.left = "50%", e.style["-webkit-transform"] = "translate(-50%, -50%)", 
    e.style["-ms-transform"] = "translate(-50%, -50%)", e.style.transform = "translate(-50%, -50%)", 
    e.parentNode.style.overflow = "hidden";
    var a = e.getAttribute("poster");
    e.removeAttribute("poster"), e.parentNode.style.backgroundImage = "url(" + a + ")", 
    e.parentNode.style.backgroundSize = "cover", e.parentNode.style.backgroundPosition = "center center";
    var r = "undefined" != typeof e.canPlayType ? !0 : !1, s = !1;
    (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4))) && (s = !0), 
    (!r || s) && e && e.parentNode && e.parentNode.removeChild(e);
};

window.jQuery && jQuery.fn.extend({
    coverVid: function() {
        return coverVid(this[0], arguments[0], arguments[1]), this;
    }
});

(function() {
    var e;
    var t = function() {};
    var i = [ "assert", "clear", "count", "debug", "dir", "dirxml", "error", "exception", "group", "groupCollapsed", "groupEnd", "info", "log", "markTimeline", "profile", "profileEnd", "table", "time", "timeEnd", "timeline", "timelineEnd", "timeStamp", "trace", "warn" ];
    var o = i.length;
    var n = window.console = window.console || {};
    while (o--) {
        e = i[o];
        if (!n[e]) {
            n[e] = t;
        }
    }
})();

$(window).on("load", function() {
    $("body").imagesLoaded({
        background: true
    }, function() {
        $(".page-loader div").fadeOut();
        $(".page-loader").delay(200).fadeOut("slow");
    });
    $(window).trigger("scroll");
    $(window).trigger("resize");
});

$(function() {
    $(window).trigger("resize");
    init_nav_menu();
    init_sliders();
    init_smooth_scroll();
});

$(window).on("resize", function() {
    js_height_init();
});

function init_nav_menu() {
    var e = $(".hamburger").unbind();
    var t = $(".navbar__nav");
    t.removeClass("navigation-open");
    e.on("click", function(e) {
        e.preventDefault();
        $(".hamburger").toggleClass("is-active");
        t.slideToggle(function() {
            if (t.is(":hidden")) {
                t.removeAttr("style");
                $(".hamburger").removeClass("is-active");
            }
        });
    });
}

function init_smooth_scroll() {
    $('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e) {
        if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) {
            var t = $(this.hash);
            t = t.length ? t : $("[name=" + this.hash.slice(1) + "]");
            if (t.length) {
                e.preventDefault();
                $("html, body").animate({
                    scrollTop: t.offset().top
                }, 1e3, function() {
                    var e = $(t);
                    e.focus();
                    if (e.is(":focus")) {
                        return false;
                    } else {
                        e.attr("tabindex", "-1");
                        e.focus();
                    }
                });
            }
        }
    });
}

function init_sliders() {
    $(".slick__clients").slick({
        infinite: true,
        speed: 300,
        slidesToShow: 3,
        slidesToScroll: 1,
        responsive: [ {
            breakpoint: 1024,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 1
            }
        }, {
            breakpoint: 800,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2
            }
        }, {
            breakpoint: 600,
            settings: {
                slidesToShow: 1,
                slidesToScroll: 1,
                arrows: false
            }
        } ]
    });
    $(".slick__testimonial").slick({
        responsive: [ {
            breakpoint: 800,
            settings: {
                arrows: false
            }
        } ]
    });
}

var $contactForm = $("#js-contact-form");

$contactForm.submit(function(e) {
    e.preventDefault();
    $.ajax({
        url: "//formspree.io/taylorradtke@gmail.com",
        method: "POST",
        data: $(this).serialize(),
        dataType: "json",
        beforeSend: function() {
            $contactForm.append('<div class="alert alert--loading">Sending messageâ€¦</div>');
        },
        success: function(e) {
            $contactForm.find(".alert--loading").hide();
            $contactForm.append('<div class="alert alert--success">Message sent!</div>');
        },
        error: function(e) {
            $contactForm.find(".alert--loading").hide();
            $contactForm.append('<div class="alert alert--error">Ops, there was an error.</div>');
        }
    });
});

function js_height_init() {
    (function(e) {
        e(".js-height-full").height(e(window).height());
        e(".js-height-parent").each(function() {
            e(this).height(e(this).parent().first().height());
        });
    })(jQuery);
}